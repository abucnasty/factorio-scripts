# Chemical Science Pack - Direct Insertion Engine Configuration
# Chemical science with direct insertion engine unit production

target_output {
    recipe = "chemical-science-pack"
    items_per_second = 120
    machines = 11
}

refs {
    science_assembly_machine = {
        id = 1
        recipe = "chemical-science-pack"
        productivity = 100
        crafting_speed = 66.031247377396
    },

    engine_unit_machine = {
        id = 2
        recipe = "engine-unit"
        productivity = 100
        crafting_speed = 49.093750119209
    }

    pipe_foundry = {
        id = 3
        recipe = "casting-pipe"
        productivity = 50
        crafting_speed = 236.80000305176
    }
    steel_and_gears_belt = {
        id = 1
        type = "turbo-transport-belt"
        lanes = [
            { ingredient = "steel-plate", stack_size = 4 },
            { ingredient = "iron-gear-wheel", stack_size = 4 }
        ]
    }
    sulfur_and_advanced_circuit_belt = {
        id = 2
        type = "turbo-transport-belt"
        lanes = [
            { ingredient = "sulfur", stack_size = 4 },
            { ingredient = "advanced-circuit", stack_size = 4 }
        ]
    }

    output_belt = {
        id = 3
        type = "turbo-transport-belt"
        lanes = [
            { ingredient = "chemical-science-pack", stack_size = 4 }
        ]
    }
}

machines = [
    ${refs.science_assembly_machine},
    ${refs.engine_unit_machine},
    ${refs.pipe_foundry}
]

belts = [
    ${refs.steel_and_gears_belt},
    ${refs.sulfur_and_advanced_circuit_belt},
    ${refs.output_belt}
]

inserters = [
    {
        source { type = "machine", id = ${refs.science_assembly_machine.id} }
        sink { type = "belt", id = ${refs.output_belt.id} }
        filters = ["chemical-science-pack"]
        stack_size = 16
    },
    {
        source { type = "belt", id = ${refs.sulfur_and_advanced_circuit_belt.id} }
        sink { type = "machine", id = ${refs.science_assembly_machine.id} }
        filters = ["sulfur", "advanced-circuit"]
        stack_size = 16
    },
    {
        source { type = "machine", id = ${refs.engine_unit_machine.id} }
        sink { type = "machine", id = ${refs.science_assembly_machine.id} }
        filters = ["engine-unit"]
        stack_size = 16
    },
    {
        source { type = "belt", id = ${refs.steel_and_gears_belt.id} }
        sink { type = "machine", id = ${refs.engine_unit_machine.id} }
        filters = ["steel-plate", "iron-gear-wheel"]
        stack_size = 16
    },
    {
        source { type = "machine", id = ${refs.pipe_foundry.id} }
        sink { type = "machine", id = ${refs.engine_unit_machine.id} }
        filters = ["pipe"]
        stack_size = 16
    }
]


