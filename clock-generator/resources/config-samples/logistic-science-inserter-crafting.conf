# Logistic Science - Inserter Crafting Configuration


# REFERENCES
## machines
INSERTER_ASM { type = "machine", id = 1 }
IRON_FURNACE_1 { type = "machine", id = 2 }
IRON_FURNACE_2 { type = "machine", id = 3 }
GEAR_ASM { type = "machine", id = 4 }
IRON_FURNACE_3 { type = "machine", id = 5 }
IRON_FURNACE_4 { type = "machine", id = 6 }

## belt sources
IRON_ORE_BELT { type = "belt", id = 1 }
GREEN_CIRCUIT_BELT { type = "belt", id = 2 }
OUTPUT_BELT { type = "belt", id = 3 }


# Templates
furnace_template {
    type = "furnace"
    crafting_speed = 86.149997711182
    productivity = 50
    recipe = "iron-plate"
}

# Configuration

overrides {
    terminal_swing_count = 5
}

target_output {
    recipe = "inserter"
    items_per_second = 240
    copies = 3
}

machines = [
    {
        id = ${INSERTER_ASM.id}
        recipe = "inserter"
        productivity = 0
        crafting_speed = 74.000000953674
    }
    {
        id = ${IRON_FURNACE_1.id}
        recipe = ${furnace_template.recipe}
        productivity = ${furnace_template.productivity}
        crafting_speed = ${furnace_template.crafting_speed}
        type = ${furnace_template.type}
    }
    {
        id = ${IRON_FURNACE_2.id}
        recipe = ${furnace_template.recipe}
        productivity = ${furnace_template.productivity}
        crafting_speed = ${furnace_template.crafting_speed}
        type = ${furnace_template.type}
    }
    {
        id = ${GEAR_ASM.id}
        recipe = "iron-gear-wheel"
        productivity = 100
        crafting_speed = 40.312498807907
    }
    {
        id = ${IRON_FURNACE_3.id}
        recipe = ${furnace_template.recipe}
        productivity = ${furnace_template.productivity}
        crafting_speed = ${furnace_template.crafting_speed}
        type = ${furnace_template.type}
    }
    {
        id = ${IRON_FURNACE_4.id}
        recipe = ${furnace_template.recipe}
        productivity = ${furnace_template.productivity}
        crafting_speed = ${furnace_template.crafting_speed}
        type = ${furnace_template.type}
    }
]

belts = [
    {
        id = ${IRON_ORE_BELT.id}
        type = "turbo-transport-belt"
        lanes = [
            { ingredient = "iron-ore", stack_size = 4 }
        ]
    }
    {
        id = ${GREEN_CIRCUIT_BELT.id}
        type = "turbo-transport-belt"
        lanes = [
            { ingredient = "electronic-circuit", stack_size = 4 }
        ]
    }
    {
        id = ${OUTPUT_BELT.id}
        type = "turbo-transport-belt"
        lanes = [
            { ingredient = "inserter", stack_size = 4 }
        ]
    }
]

inserters = [
    # Insert iron ore into furnaces
    {
        source = ${IRON_ORE_BELT}
        sink = ${IRON_FURNACE_1}
        stack_size = 16
        filters = ["iron-ore"]
    }
    {
        source = ${IRON_ORE_BELT}
        sink = ${IRON_FURNACE_2}
        stack_size = 16
        filters = ["iron-ore"]
    }
    {
        source = ${IRON_ORE_BELT}
        sink = ${IRON_FURNACE_3}
        stack_size = 16
        filters = ["iron-ore"]
    }
    {
        source = ${IRON_ORE_BELT}
        sink = ${IRON_FURNACE_4}
        stack_size = 16
        filters = ["iron-ore"]
    }
    # Insert gears, iron plates, and circuits into inserter assembler
    {
        source = ${GEAR_ASM}
        sink = ${INSERTER_ASM}
        stack_size = 16
        filters = ["iron-gear-wheel"]
    }
    {
        source = ${IRON_FURNACE_1}
        sink = ${INSERTER_ASM}
        stack_size = 16
        filters = ["iron-plate"]
    }
    {
        source = ${IRON_FURNACE_2}
        sink = ${INSERTER_ASM}
        stack_size = 16
        filters = ["iron-plate"]
    }
    {
        source = ${GREEN_CIRCUIT_BELT}
        sink = ${INSERTER_ASM}
        stack_size = 16
        filters = ["electronic-circuit"]
    }

    # Output inserter: machine -> belt
    {
        source = ${INSERTER_ASM}
        sink = ${OUTPUT_BELT}
        stack_size = 16
        filters = ["inserter"]
    }

    # Insert Iron Plates Into Gear Assembler
    {
        source = ${IRON_FURNACE_3}
        sink = ${GEAR_ASM}
        stack_size = 16
        filters = ["iron-plate"]
    }
    {
        source = ${IRON_FURNACE_4}
        sink = ${GEAR_ASM}
        stack_size = 16
        filters = ["iron-plate"]
    }
]